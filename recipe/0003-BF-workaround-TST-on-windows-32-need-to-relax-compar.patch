From 4d8f86ca9688fe9a94e025dffb0d024fc7ba8b99 Mon Sep 17 00:00:00 2001
From: Yaroslav Halchenko <debian@onerussian.com>
Date: Thu, 2 Nov 2017 21:50:40 -0400
Subject: [PATCH 3/3] BF(workaround,TST): on windows 32 need to relax
 comparison

---
 mvpa2/tests/test_hdf5_clf.py | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

diff --git a/mvpa2/tests/test_hdf5_clf.py b/mvpa2/tests/test_hdf5_clf.py
index 02ed210f..1225509f 100644
--- a/mvpa2/tests/test_hdf5_clf.py
+++ b/mvpa2/tests/test_hdf5_clf.py
@@ -110,8 +110,10 @@ def test_h5py_clfs(fname, lrn):
             ok_(np.asscalar(error__) <= 2*np.asscalar(error))
     else:
         # must match precisely
-        assert_array_equal(error, error_)
-        assert_array_equal(error, error__)
+        # but not on windows 32 bit - had miniscule difference
+        cmp_ = assert_array_almost_equal if on_windows else assert_array_equal
+        cmp_(error, error_)
+        cmp_(error, error__)
 
     # TODO: verify ca's
 
-- 
2.15.0

